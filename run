#!/bin/bash

# Este script simplifica a execuÃ§Ã£o e compilaÃ§Ã£o da aplicaÃ§Ã£o Wails,
# incluindo as tags de compilaÃ§Ã£o necessÃ¡rias para ambientes Linux.

# Para o script em caso de erro
set -e

case "$1" in
  dev)
    echo "ğŸš€ Iniciando servidor de desenvolvimento com a tag 'netgo'..."
    wails dev -tags netgo
    ;;
  build)
    echo "ğŸ“¦ Compilando a aplicaÃ§Ã£o com a tag 'netgo'..."
    wails build -tags netgo
    ;;
  npm)
    cd frontend
    echo "ğŸ“¦ Executando comando npm..."
    npm "$2"
    cd ..
    ;;
  clean)
    echo "ğŸ§¹ Limpando arquivos de build..."
    go clean -modcache
    ;; 
  *)
    echo "Uso: $0 {dev|build}"
    exit 1
    ;;
esac